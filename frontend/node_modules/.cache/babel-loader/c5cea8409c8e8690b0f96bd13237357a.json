{"ast":null,"code":"import _slicedToArray from\"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var name=_ref.name,isOpen=_ref.isOpen,onClose=_ref.onClose,title=_ref.title,children=_ref.children,buttonText=_ref.buttonText,onSubmit=_ref.onSubmit,buttonState=_ref.buttonState;var formRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormValid=_useState2[0],setFormValid=_useState2[1];useEffect(function(){setFormValid(formRef.current.checkValidity());},[children]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_type_\".concat(name,\" \").concat(isOpen?\"popup_open\":\"\"),onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",onClick:function onClick(event){return event.stopPropagation();},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title \".concat(name===\"delete-confirmation\"?\"popup__title_no-input\":\"\"),children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",name:name,onSubmit:onSubmit,ref:formRef,children:[children,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup__button\",onClick:onSubmit,disabled:!isFormValid||buttonState,children:buttonText})]}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Close\",type:\"button\",className:\"popup__close\",onClick:onClose})]})});}export default PopupWithForm;","map":{"version":3,"names":["useRef","useState","useEffect","PopupWithForm","name","isOpen","onClose","title","children","buttonText","onSubmit","buttonState","formRef","isFormValid","setFormValid","current","checkValidity","event","stopPropagation"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/PopupWithForm.js"],"sourcesContent":["import { useRef, useState, useEffect } from \"react\";\n\nfunction PopupWithForm({\n  name,\n  isOpen,\n  onClose,\n  title,\n  children,\n  buttonText,\n  onSubmit,\n  buttonState,\n}) {\n  const formRef = useRef();\n  const [isFormValid, setFormValid] = useState(false);\n\n  useEffect(() => {\n    setFormValid(formRef.current.checkValidity());\n  }, [children]);\n\n  return (\n    <div\n      className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`}\n      onClick={onClose}\n    >\n      <div\n        className=\"popup__container\"\n        onClick={(event) => event.stopPropagation()}\n      >\n        <h2\n          className={`popup__title ${\n            name === \"delete-confirmation\" ? \"popup__title_no-input\" : \"\"\n          }`}\n        >\n          {title}\n        </h2>\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          ref={formRef}\n        >\n          {children}\n          <button\n            type=\"submit\"\n            className=\"popup__button\"\n            onClick={onSubmit}\n            disabled={!isFormValid || buttonState}\n          >\n            {buttonText}\n          </button>\n        </form>\n        <button\n          aria-label=\"Close\"\n          type=\"button\"\n          className=\"popup__close\"\n          onClick={onClose}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n"],"mappings":"kJAAA,OAASA,MAAT,CAAiBC,QAAjB,CAA2BC,SAA3B,KAA4C,OAA5C,C,wFAEA,QAASC,cAAT,MASG,IARDC,KAQC,MARDA,IAQC,CAPDC,MAOC,MAPDA,MAOC,CANDC,OAMC,MANDA,OAMC,CALDC,KAKC,MALDA,KAKC,CAJDC,QAIC,MAJDA,QAIC,CAHDC,UAGC,MAHDA,UAGC,CAFDC,QAEC,MAFDA,QAEC,CADDC,WACC,MADDA,WACC,CACD,GAAMC,QAAO,CAAGZ,MAAM,EAAtB,CACA,cAAoCC,QAAQ,CAAC,KAAD,CAA5C,wCAAOY,WAAP,eAAoBC,YAApB,eAEAZ,SAAS,CAAC,UAAM,CACdY,YAAY,CAACF,OAAO,CAACG,OAAR,CAAgBC,aAAhB,EAAD,CAAZ,CACD,CAFQ,CAEN,CAACR,QAAD,CAFM,CAAT,CAIA,mBACE,YACE,SAAS,4BAAsBJ,IAAtB,aAA8BC,MAAM,CAAG,YAAH,CAAkB,EAAtD,CADX,CAEE,OAAO,CAAEC,OAFX,uBAIE,aACE,SAAS,CAAC,kBADZ,CAEE,OAAO,CAAE,iBAACW,KAAD,QAAWA,MAAK,CAACC,eAAN,EAAX,EAFX,wBAIE,WACE,SAAS,wBACPd,IAAI,GAAK,qBAAT,CAAiC,uBAAjC,CAA2D,EADpD,CADX,UAKGG,KALH,EAJF,cAWE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAEH,IAFR,CAGE,QAAQ,CAAEM,QAHZ,CAIE,GAAG,CAAEE,OAJP,WAMGJ,QANH,cAOE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAEE,QAHX,CAIE,QAAQ,CAAE,CAACG,WAAD,EAAgBF,WAJ5B,UAMGF,UANH,EAPF,GAXF,cA2BE,eACE,aAAW,OADb,CAEE,IAAI,CAAC,QAFP,CAGE,SAAS,CAAC,cAHZ,CAIE,OAAO,CAAEH,OAJX,EA3BF,GAJF,EADF,CAyCD,CAED,cAAeH,cAAf"},"metadata":{},"sourceType":"module"}