{"ast":null,"code":"var _jsxFileName = \"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardConfirmationPopup from \"./DeleteCardConfirmationPopup\";\nimport { api } from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport { DeletedCardContext } from \"../contexts/DeletedCardContext\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { login, signup, verifyJWT } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loggedInUser, setLoggedInUser] = useState();\n  const [isRegistrationSuccess, setIsRegistrationSuccess] = useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isDeleteCardConfirmationPopupOpen, setDeleteCardConfirmationPopupOpen] = useState(false);\n  const [isPicturePopupOpen, setPicturePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [deletedCard, setDeletedCard] = useState({});\n  const [isButtonStateLoading, setButtonStateLoading] = useState(false);\n  useEffect(() => {\n    const storedJWT = localStorage.getItem(\"jwt\");\n\n    if (storedJWT) {\n      verifyJWT(storedJWT).then(data => {\n        setIsLoggedIn(true);\n      });\n    } else {\n      return;\n    }\n  }, []);\n  useEffect(() => {\n    api.getUserInfo().then(res => {\n      setCurrentUser(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener(\"keyup\", handleEscClose);\n    return () => {\n      document.removeEventListener(\"keyup\", handleEscClose);\n    };\n  }, []);\n  useEffect(() => {\n    api.getInitialCards().then(res => {\n      setCards(res);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setPicturePopupOpen(false);\n    setDeleteCardConfirmationPopupOpen(false);\n    setSelectedCard({});\n    setIsInfoToolTipPopupOpen(false);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n    setPicturePopupOpen(true);\n  }\n\n  function handleUpdateUser(inputValues) {\n    setButtonStateLoading(true);\n    api.editUserProfile(inputValues).then(updatedUserInfo => {\n      setCurrentUser(updatedUserInfo);\n    }).then(() => {\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setButtonStateLoading(false);\n    });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setButtonStateLoading(true);\n    api.editProfilePic(avatar).then(updatedInfo => {\n      setCurrentUser(updatedInfo);\n    }).then(() => {\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setButtonStateLoading(false);\n    });\n  }\n\n  function handleLikeClick(card) {\n    const isLiked = card.likes.some(user => user._id === currentUser._id);\n    setButtonStateLoading(true);\n    api.changeLikeCardStatus(card._id, isLiked).then(newCard => {\n      // loop over all the currentCards stored in the state and find the card that has been liked/disliked and change the data of that card\n      setCards(state => state.map(currentCard => currentCard._id === card._id ? newCard : currentCard));\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setButtonStateLoading(false);\n    });\n  }\n\n  function handleConfirmation(deletedCard) {\n    setDeleteCardConfirmationPopupOpen(true);\n    setDeletedCard(deletedCard);\n  }\n\n  function handleCardDelete(card) {\n    setButtonStateLoading(true);\n    api.deleteCard(card._id).then(() => setCards(state => state.filter(currentCard => currentCard._id !== card._id))).then(() => {\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setButtonStateLoading(false);\n    });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    setButtonStateLoading(true);\n    api.addNewCard(card).then(newCard => {\n      setCards([newCard, ...cards]);\n    }).then(() => {\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    }).finally(() => {\n      setButtonStateLoading(false);\n    });\n  }\n\n  function handleLoginSubmit(loginCredentials) {\n    login(loginCredentials).then(data => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        setIsLoggedIn(true);\n        setLoggedInUser(loginCredentials.email);\n      } else {\n        return;\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function handleRegisterSubmit(signupCredentials) {\n    signup(signupCredentials).then(() => {\n      setIsInfoToolTipPopupOpen(true);\n      setIsRegistrationSuccess(true);\n    }).catch(() => {\n      setIsInfoToolTipPopupOpen(true);\n      setIsRegistrationSuccess(false);\n    });\n  }\n\n  function handleLogOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          path: \"/main\",\n          isLoggedIn: isLoggedIn,\n          children: /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/main\",\n            children: /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n              value: currentUser,\n              children: [/*#__PURE__*/_jsxDEV(Header, {\n                isLoggedIn: isLoggedIn,\n                onLogOut: handleLogOut,\n                loggedInUser: loggedInUser\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(CardsContext.Provider, {\n                value: cards,\n                children: /*#__PURE__*/_jsxDEV(Main, {\n                  onEditProfileClick: handleEditProfileClick,\n                  onAddPlaceClick: handleAddPlaceClick,\n                  onEditAvatarClick: handleEditAvatarClick,\n                  onCardClick: handleCardClick,\n                  onCardLike: handleLikeClick,\n                  onCardDelete: handleConfirmation\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ImagePopup, {\n                name: \"picture\",\n                card: selectedCard,\n                onClose: closeAllPopups,\n                isOpen: isPicturePopupOpen\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n                isOpen: isEditAvatarPopupOpen,\n                onClose: closeAllPopups,\n                onUpdateAvatar: handleUpdateAvatar,\n                buttonState: isButtonStateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n                isOpen: isEditProfilePopupOpen,\n                onClose: closeAllPopups,\n                onUpdateUser: handleUpdateUser,\n                buttonState: isButtonStateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AddPlacePopup, {\n                isOpen: isAddPlacePopupOpen,\n                onClose: closeAllPopups,\n                onAddPlaceSubmit: handleAddPlaceSubmit,\n                buttonState: isButtonStateLoading\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DeletedCardContext.Provider, {\n                value: deletedCard,\n                children: /*#__PURE__*/_jsxDEV(DeleteCardConfirmationPopup, {\n                  isOpen: isDeleteCardConfirmationPopupOpen,\n                  onClose: closeAllPopups,\n                  onConfirmation: handleCardDelete,\n                  buttonState: isButtonStateLoading\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          children: [isLoggedIn && /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/main\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(Header, {\n            isLoggedIn: isLoggedIn,\n            onPage: \"login\",\n            onLogOut: handleLogOut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Login, {\n            onSubmit: handleLoginSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            isLoggedIn: isLoggedIn,\n            onPage: \"signup\",\n            onLogOut: handleLogOut\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Register, {\n            onSubmit: handleRegisterSubmit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InfoTooltip, {\n            name: \"infotooltip\",\n            isOpen: isInfoToolTipPopupOpen,\n            success: isRegistrationSuccess,\n            onClose: closeAllPopups\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          children: isLoggedIn ? /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/main\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 27\n          }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/signin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"BgWZD5dG7uX/KFjgAOUCmZCLLgM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","Header","Main","Footer","ImagePopup","EditProfilePopup","EditAvatarPopup","AddPlacePopup","DeleteCardConfirmationPopup","api","CurrentUserContext","CardsContext","DeletedCardContext","Switch","Route","Redirect","Login","Register","InfoTooltip","ProtectedRoute","login","signup","verifyJWT","App","isLoggedIn","setIsLoggedIn","loggedInUser","setLoggedInUser","isRegistrationSuccess","setIsRegistrationSuccess","isInfoToolTipPopupOpen","setIsInfoToolTipPopupOpen","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isDeleteCardConfirmationPopupOpen","setDeleteCardConfirmationPopupOpen","isPicturePopupOpen","setPicturePopupOpen","selectedCard","setSelectedCard","currentUser","setCurrentUser","cards","setCards","deletedCard","setDeletedCard","isButtonStateLoading","setButtonStateLoading","storedJWT","localStorage","getItem","then","data","getUserInfo","res","catch","err","console","log","handleEscClose","evt","key","closeAllPopups","document","addEventListener","removeEventListener","getInitialCards","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","cardData","handleUpdateUser","inputValues","editUserProfile","updatedUserInfo","finally","handleUpdateAvatar","avatar","editProfilePic","updatedInfo","handleLikeClick","card","isLiked","likes","some","user","_id","changeLikeCardStatus","newCard","state","map","currentCard","handleConfirmation","handleCardDelete","deleteCard","filter","handleAddPlaceSubmit","addNewCard","handleLoginSubmit","loginCredentials","token","setItem","email","handleRegisterSubmit","signupCredentials","handleLogOut","removeItem"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardConfirmationPopup from \"./DeleteCardConfirmationPopup\";\nimport { api } from \"../utils/api\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport { DeletedCardContext } from \"../contexts/DeletedCardContext\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport { login, signup, verifyJWT } from \"../utils/auth\";\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loggedInUser, setLoggedInUser] = useState();\n  const [isRegistrationSuccess, setIsRegistrationSuccess] = useState(false);\n  const [isInfoToolTipPopupOpen, setIsInfoToolTipPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [\n    isDeleteCardConfirmationPopupOpen,\n    setDeleteCardConfirmationPopupOpen,\n  ] = useState(false);\n  const [isPicturePopupOpen, setPicturePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [deletedCard, setDeletedCard] = useState({});\n  const [isButtonStateLoading, setButtonStateLoading] = useState(false);\n\n  useEffect(() => {\n    const storedJWT = localStorage.getItem(\"jwt\");\n    if (storedJWT) {\n      verifyJWT(storedJWT).then((data) => {\n        setIsLoggedIn(true);\n      });\n    } else {\n      return;\n    }\n  }, []);\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n    function handleEscClose(evt) {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener(\"keyup\", handleEscClose);\n    return () => {\n      document.removeEventListener(\"keyup\", handleEscClose);\n    };\n  }, []);\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setPicturePopupOpen(false);\n    setDeleteCardConfirmationPopupOpen(false);\n    setSelectedCard({});\n    setIsInfoToolTipPopupOpen(false);\n  }\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n    setPicturePopupOpen(true);\n  }\n  function handleUpdateUser(inputValues) {\n    setButtonStateLoading(true);\n    api\n      .editUserProfile(inputValues)\n      .then((updatedUserInfo) => {\n        setCurrentUser(updatedUserInfo);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonStateLoading(false);\n      });\n  }\n  function handleUpdateAvatar(avatar) {\n    setButtonStateLoading(true);\n    api\n      .editProfilePic(avatar)\n      .then((updatedInfo) => {\n        setCurrentUser(updatedInfo);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonStateLoading(false);\n      });\n  }\n  function handleLikeClick(card) {\n    const isLiked = card.likes.some((user) => user._id === currentUser._id);\n    setButtonStateLoading(true);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        // loop over all the currentCards stored in the state and find the card that has been liked/disliked and change the data of that card\n        setCards((state) =>\n          state.map((currentCard) =>\n            currentCard._id === card._id ? newCard : currentCard\n          )\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonStateLoading(false);\n      });\n  }\n\n  function handleConfirmation(deletedCard) {\n    setDeleteCardConfirmationPopupOpen(true);\n    setDeletedCard(deletedCard);\n  }\n\n  function handleCardDelete(card) {\n    setButtonStateLoading(true);\n    api\n      .deleteCard(card._id)\n      .then(() =>\n        setCards((state) =>\n          state.filter((currentCard) => currentCard._id !== card._id)\n        )\n      )\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonStateLoading(false);\n      });\n  }\n  function handleAddPlaceSubmit(card) {\n    setButtonStateLoading(true);\n    api\n      .addNewCard(card)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setButtonStateLoading(false);\n      });\n  }\n  function handleLoginSubmit(loginCredentials) {\n    login(loginCredentials)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem(\"jwt\", data.token);\n          setIsLoggedIn(true);\n          setLoggedInUser(loginCredentials.email);\n        } else {\n          return;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleRegisterSubmit(signupCredentials) {\n    signup(signupCredentials)\n      .then(() => {\n        setIsInfoToolTipPopupOpen(true);\n        setIsRegistrationSuccess(true);\n      })\n      .catch(() => {\n        setIsInfoToolTipPopupOpen(true);\n        setIsRegistrationSuccess(false);\n      });\n  }\n\n  function handleLogOut() {\n    setIsLoggedIn(false);\n    localStorage.removeItem(\"jwt\");\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"page\">\n        <Switch>\n          <ProtectedRoute path={\"/main\"} isLoggedIn={isLoggedIn}>\n            <Route path=\"/main\">\n              <CurrentUserContext.Provider value={currentUser}>\n                <Header\n                  isLoggedIn={isLoggedIn}\n                  onLogOut={handleLogOut}\n                  loggedInUser={loggedInUser}\n                />\n                <CardsContext.Provider value={cards}>\n                  <Main\n                    onEditProfileClick={handleEditProfileClick}\n                    onAddPlaceClick={handleAddPlaceClick}\n                    onEditAvatarClick={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleLikeClick}\n                    onCardDelete={handleConfirmation}\n                  />\n                </CardsContext.Provider>\n                <Footer />\n                <ImagePopup\n                  name=\"picture\"\n                  card={selectedCard}\n                  onClose={closeAllPopups}\n                  isOpen={isPicturePopupOpen}\n                />\n                <EditAvatarPopup\n                  isOpen={isEditAvatarPopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateAvatar={handleUpdateAvatar}\n                  buttonState={isButtonStateLoading}\n                />\n                <EditProfilePopup\n                  isOpen={isEditProfilePopupOpen}\n                  onClose={closeAllPopups}\n                  onUpdateUser={handleUpdateUser}\n                  buttonState={isButtonStateLoading}\n                />\n                <AddPlacePopup\n                  isOpen={isAddPlacePopupOpen}\n                  onClose={closeAllPopups}\n                  onAddPlaceSubmit={handleAddPlaceSubmit}\n                  buttonState={isButtonStateLoading}\n                />\n                <DeletedCardContext.Provider value={deletedCard}>\n                  <DeleteCardConfirmationPopup\n                    isOpen={isDeleteCardConfirmationPopupOpen}\n                    onClose={closeAllPopups}\n                    onConfirmation={handleCardDelete}\n                    buttonState={isButtonStateLoading}\n                  />\n                </DeletedCardContext.Provider>\n              </CurrentUserContext.Provider>\n            </Route>\n          </ProtectedRoute>\n          <Route path=\"/signin\">\n            {isLoggedIn && <Redirect to=\"/main\" />}\n            <Header\n              isLoggedIn={isLoggedIn}\n              onPage=\"login\"\n              onLogOut={handleLogOut}\n            />\n            <Login onSubmit={handleLoginSubmit} />\n          </Route>\n          <Route path=\"/signup\">\n            <Header\n              isLoggedIn={isLoggedIn}\n              onPage=\"signup\"\n              onLogOut={handleLogOut}\n            />\n            <Register onSubmit={handleRegisterSubmit} />\n            <InfoTooltip\n              name=\"infotooltip\"\n              isOpen={isInfoToolTipPopupOpen}\n              success={isRegistrationSuccess}\n              onClose={closeAllPopups}\n            />\n          </Route>\n          <Route path=\"/\">\n            {isLoggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}