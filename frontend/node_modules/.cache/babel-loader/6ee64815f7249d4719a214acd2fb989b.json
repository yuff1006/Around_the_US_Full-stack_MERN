{"ast":null,"code":"import _slicedToArray from\"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from\"./PopupWithForm\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddPlacePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onAddPlaceSubmit=_ref.onAddPlaceSubmit,buttonState=_ref.buttonState;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),pictureName=_useState2[0],setPictureName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pictureLink=_useState4[0],setPictureLink=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isNameValid=_useState6[0],setNameValid=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLinkValid=_useState8[0],setLinkValid=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),validationMessage=_useState10[0],setValidationMessage=_useState10[1];useEffect(function(){setPictureName(\"\");setPictureLink(\"\");setNameValid(true);setLinkValid(true);},[isOpen]);function handlePictureNameChange(e){setPictureName(e.target.value);if(e.target.checkValidity()){setNameValid(true);}else{setNameValid(false);setValidationMessage(e.target.validationMessage);}}function handlePictureLinkChange(e){setPictureLink(e.target.value);if(e.target.checkValidity()){setLinkValid(true);}else{setLinkValid(false);setValidationMessage(e.target.validationMessage);}}function handleSubmit(e){e.preventDefault();onAddPlaceSubmit({name:pictureName,link:pictureLink});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"place\",title:\"New place\",buttonText:buttonState===false?\"Create\":\"Saving...\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,buttonState:buttonState,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__info \".concat(!isNameValid&&\"popup__info_type_error\"),id:\"popup-place\",placeholder:\"Title\",required:true,minLength:\"1\",maxLength:\"30\",name:\"name\",value:pictureName,onChange:handlePictureNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error \".concat(!isNameValid&&\"popup__error_visible\"),id:\"popup-place-error\",children:validationMessage}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__info \".concat(!isLinkValid&&\"popup__info_type_error\"),id:\"popup-url\",placeholder:\"Image Link\",required:true,type:\"url\",name:\"link\",value:pictureLink,onChange:handlePictureLinkChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error \".concat(!isLinkValid&&\"popup__error_visible\"),id:\"popup-url-error\",children:validationMessage})]});}export default AddPlacePopup;","map":{"version":3,"names":["PopupWithForm","useState","useEffect","AddPlacePopup","isOpen","onClose","onAddPlaceSubmit","buttonState","pictureName","setPictureName","pictureLink","setPictureLink","isNameValid","setNameValid","isLinkValid","setLinkValid","validationMessage","setValidationMessage","handlePictureNameChange","e","target","value","checkValidity","handlePictureLinkChange","handleSubmit","preventDefault","name","link"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/AddPlacePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport { useState, useEffect } from \"react\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlaceSubmit, buttonState }) {\n  const [pictureName, setPictureName] = useState(\"\");\n  const [pictureLink, setPictureLink] = useState(\"\");\n  const [isNameValid, setNameValid] = useState(true);\n  const [isLinkValid, setLinkValid] = useState(true);\n  const [validationMessage, setValidationMessage] = useState(\"\");\n  useEffect(() => {\n    setPictureName(\"\");\n    setPictureLink(\"\");\n    setNameValid(true);\n    setLinkValid(true);\n  }, [isOpen]);\n  function handlePictureNameChange(e) {\n    setPictureName(e.target.value);\n    if (e.target.checkValidity()) {\n      setNameValid(true);\n    } else {\n      setNameValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n  function handlePictureLinkChange(e) {\n    setPictureLink(e.target.value);\n    if (e.target.checkValidity()) {\n      setLinkValid(true);\n    } else {\n      setLinkValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlaceSubmit({ name: pictureName, link: pictureLink });\n  }\n  return (\n    <PopupWithForm\n      name=\"place\"\n      title=\"New place\"\n      buttonText={buttonState === false ? \"Create\" : \"Saving...\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <input\n        type=\"text\"\n        className={`popup__info ${!isNameValid && \"popup__info_type_error\"}`}\n        id=\"popup-place\"\n        placeholder=\"Title\"\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        name=\"name\"\n        value={pictureName}\n        onChange={handlePictureNameChange}\n      />\n      <span\n        className={`popup__error ${!isNameValid && \"popup__error_visible\"}`}\n        id=\"popup-place-error\"\n      >\n        {validationMessage}\n      </span>\n      <input\n        className={`popup__info ${!isLinkValid && \"popup__info_type_error\"}`}\n        id=\"popup-url\"\n        placeholder=\"Image Link\"\n        required\n        type=\"url\"\n        name=\"link\"\n        value={pictureLink}\n        onChange={handlePictureLinkChange}\n      />\n      <span\n        className={`popup__error ${!isLinkValid && \"popup__error_visible\"}`}\n        id=\"popup-url-error\"\n      >\n        {validationMessage}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}