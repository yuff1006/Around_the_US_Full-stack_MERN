{"ast":null,"code":"import _slicedToArray from\"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var name=_ref.name,isOpen=_ref.isOpen,onClose=_ref.onClose,title=_ref.title,children=_ref.children,buttonText=_ref.buttonText,onSubmit=_ref.onSubmit,buttonState=_ref.buttonState;var formRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFormValid=_useState2[0],setFormValid=_useState2[1];useEffect(function(){setFormValid(formRef.current.checkValidity());},[children]);function handleOverLayClose(evt){if(evt.target.classList.contains(\"popup\")||evt.target.classList.contains(\"popup__close\")){onClose();}}return/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_type_\".concat(name,\" \").concat(isOpen?\"popup_open\":\"\"),onClick:handleOverLayClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title \".concat(name===\"delete-confirmation\"?\"popup__title_no-input\":\"\"),children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",name:name,onSubmit:onSubmit,ref:formRef,children:[children,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup__button\",onClick:onSubmit,disabled:!isFormValid||buttonState,children:buttonText})]}),/*#__PURE__*/_jsx(\"button\",{\"aria-label\":\"Close\",type:\"button\",className:\"popup__close\"})]})});}export default PopupWithForm;","map":{"version":3,"names":["useRef","useState","useEffect","PopupWithForm","name","isOpen","onClose","title","children","buttonText","onSubmit","buttonState","formRef","isFormValid","setFormValid","current","checkValidity","handleOverLayClose","evt","target","classList","contains"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/PopupWithForm.js"],"sourcesContent":["import { useRef, useState, useEffect } from \"react\";\n\nfunction PopupWithForm({\n  name,\n  isOpen,\n  onClose,\n  title,\n  children,\n  buttonText,\n  onSubmit,\n  buttonState,\n}) {\n  const formRef = useRef();\n  const [isFormValid, setFormValid] = useState(false);\n\n  useEffect(() => {\n    setFormValid(formRef.current.checkValidity());\n  }, [children]);\n\n  function handleOverLayClose(evt) {\n    if (\n      evt.target.classList.contains(\"popup\") ||\n      evt.target.classList.contains(\"popup__close\")\n    ) {\n      onClose();\n    }\n  }\n  return (\n    <div\n      className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`}\n      onClick={handleOverLayClose}\n    >\n      <div className=\"popup__container\">\n        <h2\n          className={`popup__title ${\n            name === \"delete-confirmation\" ? \"popup__title_no-input\" : \"\"\n          }`}\n        >\n          {title}\n        </h2>\n        <form\n          className=\"popup__form\"\n          name={name}\n          onSubmit={onSubmit}\n          ref={formRef}\n        >\n          {children}\n          <button\n            type=\"submit\"\n            className=\"popup__button\"\n            onClick={onSubmit}\n            disabled={!isFormValid || buttonState}\n          >\n            {buttonText}\n          </button>\n        </form>\n        <button aria-label=\"Close\" type=\"button\" className=\"popup__close\" />\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n"],"mappings":"kJAAA,OAASA,MAAT,CAAiBC,QAAjB,CAA2BC,SAA3B,KAA4C,OAA5C,C,wFAEA,QAASC,cAAT,MASG,IARDC,KAQC,MARDA,IAQC,CAPDC,MAOC,MAPDA,MAOC,CANDC,OAMC,MANDA,OAMC,CALDC,KAKC,MALDA,KAKC,CAJDC,QAIC,MAJDA,QAIC,CAHDC,UAGC,MAHDA,UAGC,CAFDC,QAEC,MAFDA,QAEC,CADDC,WACC,MADDA,WACC,CACD,GAAMC,QAAO,CAAGZ,MAAM,EAAtB,CACA,cAAoCC,QAAQ,CAAC,KAAD,CAA5C,wCAAOY,WAAP,eAAoBC,YAApB,eAEAZ,SAAS,CAAC,UAAM,CACdY,YAAY,CAACF,OAAO,CAACG,OAAR,CAAgBC,aAAhB,EAAD,CAAZ,CACD,CAFQ,CAEN,CAACR,QAAD,CAFM,CAAT,CAIA,QAASS,mBAAT,CAA4BC,GAA5B,CAAiC,CAC/B,GACEA,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqBC,QAArB,CAA8B,OAA9B,GACAH,GAAG,CAACC,MAAJ,CAAWC,SAAX,CAAqBC,QAArB,CAA8B,cAA9B,CAFF,CAGE,CACAf,OAAO,GACR,CACF,CACD,mBACE,YACE,SAAS,4BAAsBF,IAAtB,aAA8BC,MAAM,CAAG,YAAH,CAAkB,EAAtD,CADX,CAEE,OAAO,CAAEY,kBAFX,uBAIE,aAAK,SAAS,CAAC,kBAAf,wBACE,WACE,SAAS,wBACPb,IAAI,GAAK,qBAAT,CAAiC,uBAAjC,CAA2D,EADpD,CADX,UAKGG,KALH,EADF,cAQE,cACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAEH,IAFR,CAGE,QAAQ,CAAEM,QAHZ,CAIE,GAAG,CAAEE,OAJP,WAMGJ,QANH,cAOE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAEE,QAHX,CAIE,QAAQ,CAAE,CAACG,WAAD,EAAgBF,WAJ5B,UAMGF,UANH,EAPF,GARF,cAwBE,eAAQ,aAAW,OAAnB,CAA2B,IAAI,CAAC,QAAhC,CAAyC,SAAS,CAAC,cAAnD,EAxBF,GAJF,EADF,CAiCD,CAED,cAAeN,cAAf"},"metadata":{},"sourceType":"module"}