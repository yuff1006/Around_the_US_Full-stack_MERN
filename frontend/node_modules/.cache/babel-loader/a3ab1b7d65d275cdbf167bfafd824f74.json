{"ast":null,"code":"var _jsxFileName = \"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport { useState, useContext, useEffect, useRef } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfilePopup(_ref) {\n  _s();\n\n  var _nameInputRef$current, _aboutInputRef$curren;\n\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser,\n    buttonState\n  } = _ref;\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isNameValid, setNameValid] = useState(true);\n  const [isAboutValid, setAboutValid] = useState(true);\n  const currentUser = useContext(CurrentUserContext);\n  const nameInputRef = useRef();\n  const aboutInputRef = useRef();\n  useEffect(() => {\n    var _currentUser$name, _currentUser$about;\n\n    setName((_currentUser$name = currentUser.name) !== null && _currentUser$name !== void 0 ? _currentUser$name : \"\");\n    setDescription((_currentUser$about = currentUser.about) !== null && _currentUser$about !== void 0 ? _currentUser$about : \"\");\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n\n    if (e.target.checkValidity()) {\n      setNameValid(true);\n    } else {\n      setNameValid(false);\n    }\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n\n    if (e.target.checkValidity()) {\n      setAboutValid(true);\n    } else {\n      setAboutValid(false);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    name: \"profile\",\n    title: \"Edit Profile\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: buttonState === false ? \"Save\" : \"Saving...\",\n    onSubmit: handleSubmit,\n    buttonState: buttonState,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: `popup__info ${isNameValid ? \"\" : \"popup__info_type_error\"}`,\n      id: \"popup-name\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"40\",\n      name: \"name\",\n      value: name,\n      onChange: handleNameChange,\n      ref: nameInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `popup__error ${isNameValid ? \"\" : \"popup__error_visible\"}`,\n      id: \"popup-name-error\",\n      children: (_nameInputRef$current = nameInputRef.current) === null || _nameInputRef$current === void 0 ? void 0 : _nameInputRef$current.validationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: `popup__info ${isAboutValid ? \"\" : \"popup__info_type_error\"}`,\n      id: \"popup-title\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"200\",\n      name: \"about\",\n      value: description,\n      onChange: handleDescriptionChange,\n      ref: aboutInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `popup__error ${isAboutValid ? \"\" : \"popup__error_visible\"}`,\n      id: \"popup-title-error\",\n      children: (_aboutInputRef$curren = aboutInputRef.current) === null || _aboutInputRef$curren === void 0 ? void 0 : _aboutInputRef$curren.validationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfilePopup, \"n4GX/7PUdPwqO4aGdTxO4Irse6o=\");\n\n_c = EditProfilePopup;\nexport default EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["PopupWithForm","useState","useContext","useEffect","useRef","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","buttonState","name","setName","description","setDescription","isNameValid","setNameValid","isAboutValid","setAboutValid","currentUser","nameInputRef","aboutInputRef","about","handleNameChange","e","target","value","checkValidity","handleDescriptionChange","handleSubmit","preventDefault","current","validationMessage"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport { useState, useContext, useEffect, useRef } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, buttonState }) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isNameValid, setNameValid] = useState(true);\n  const [isAboutValid, setAboutValid] = useState(true);\n  const currentUser = useContext(CurrentUserContext);\n  const nameInputRef = useRef();\n  const aboutInputRef = useRef();\n\n  useEffect(() => {\n    setName(currentUser.name ?? \"\");\n    setDescription(currentUser.about ?? \"\");\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n    if (e.target.checkValidity()) {\n      setNameValid(true);\n    } else {\n      setNameValid(false);\n    }\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n    if (e.target.checkValidity()) {\n      setAboutValid(true);\n    } else {\n      setAboutValid(false);\n    }\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Edit Profile\"\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={buttonState === false ? \"Save\" : \"Saving...\"}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <input\n        type=\"text\"\n        className={`popup__info ${isNameValid ? \"\" : \"popup__info_type_error\"}`}\n        id=\"popup-name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        name=\"name\"\n        value={name}\n        onChange={handleNameChange}\n        ref={nameInputRef}\n      />\n      <span\n        className={`popup__error ${isNameValid ? \"\" : \"popup__error_visible\"}`}\n        id=\"popup-name-error\"\n      >\n        {nameInputRef.current?.validationMessage}\n      </span>\n      <input\n        type=\"text\"\n        className={`popup__info ${\n          isAboutValid ? \"\" : \"popup__info_type_error\"\n        }`}\n        id=\"popup-title\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        name=\"about\"\n        value={description}\n        onChange={handleDescriptionChange}\n        ref={aboutInputRef}\n      />\n      <span\n        className={`popup__error ${isAboutValid ? \"\" : \"popup__error_visible\"}`}\n        id=\"popup-title-error\"\n      >\n        {aboutInputRef.current?.validationMessage}\n      </span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}