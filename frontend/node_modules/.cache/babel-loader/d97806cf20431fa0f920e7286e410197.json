{"ast":null,"code":"var _jsxFileName = \"/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/EditProfilePopup.js\",\n    _s = $RefreshSig$();\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditProfilePopup(_ref) {\n  _s();\n\n  let {\n    isOpen,\n    onClose,\n    onUpdateUser,\n    buttonState\n  } = _ref;\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isNameValid, setNameValid] = useState(true);\n  const [isAboutValid, setAboutValid] = useState(true);\n  const [validationMessage, setValidationMessage] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n  useEffect(() => {\n    var _currentUser$name, _currentUser$about;\n\n    setName((_currentUser$name = currentUser.name) !== null && _currentUser$name !== void 0 ? _currentUser$name : \"\");\n    setDescription((_currentUser$about = currentUser.about) !== null && _currentUser$about !== void 0 ? _currentUser$about : \"\");\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n\n    if (e.target.checkValidity()) {\n      setNameValid(true);\n    } else {\n      setNameValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n\n    if (e.target.checkValidity()) {\n      setAboutValid(true);\n    } else {\n      setAboutValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(PopupWithForm, {\n    name: \"profile\",\n    title: \"Edit Profile\",\n    isOpen: isOpen,\n    onClose: onClose,\n    buttonText: buttonState === false ? \"Save\" : \"Saving...\",\n    onSubmit: handleSubmit,\n    buttonState: buttonState,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: `popup__info ${isNameValid ? \"\" : \"popup__info_type_error\"}`,\n      id: \"popup-name\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"40\",\n      name: \"name\",\n      value: name,\n      onChange: handleNameChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `popup__error ${isNameValid ? \"\" : \"popup__error_visible\"}`,\n      id: \"popup-name-error\",\n      children: validationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: `popup__info ${isAboutValid ? \"\" : \"popup__info_type_error\"}`,\n      id: \"popup-title\",\n      required: true,\n      minLength: \"2\",\n      maxLength: \"200\",\n      name: \"about\",\n      value: description,\n      onChange: handleDescriptionChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `popup__error ${isAboutValid ? \"\" : \"popup__error_visible\"}`,\n      id: \"popup-title-error\",\n      children: validationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfilePopup, \"g8cnMP7oSDqrEqsXWbNRw4bOEx0=\");\n\n_c = EditProfilePopup;\nexport default EditProfilePopup;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfilePopup\");","map":{"version":3,"names":["PopupWithForm","useState","useContext","useEffect","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","buttonState","name","setName","description","setDescription","isNameValid","setNameValid","isAboutValid","setAboutValid","validationMessage","setValidationMessage","currentUser","about","handleNameChange","e","target","value","checkValidity","handleDescriptionChange","handleSubmit","preventDefault"],"sources":["/Users/yuffiehu/Documents/Coding/Practicum/react-around-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, buttonState }) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [isNameValid, setNameValid] = useState(true);\n  const [isAboutValid, setAboutValid] = useState(true);\n  const [validationMessage, setValidationMessage] = useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name ?? \"\");\n    setDescription(currentUser.about ?? \"\");\n  }, [currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n    if (e.target.checkValidity()) {\n      setNameValid(true);\n    } else {\n      setNameValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n    if (e.target.checkValidity()) {\n      setAboutValid(true);\n    } else {\n      setAboutValid(false);\n      setValidationMessage(e.target.validationMessage);\n    }\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name=\"profile\"\n      title=\"Edit Profile\"\n      isOpen={isOpen}\n      onClose={onClose}\n      buttonText={buttonState === false ? \"Save\" : \"Saving...\"}\n      onSubmit={handleSubmit}\n      buttonState={buttonState}\n    >\n      <input\n        type=\"text\"\n        className={`popup__info ${isNameValid ? \"\" : \"popup__info_type_error\"}`}\n        id=\"popup-name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        name=\"name\"\n        value={name}\n        onChange={handleNameChange}\n      />\n      <span\n        className={`popup__error ${isNameValid ? \"\" : \"popup__error_visible\"}`}\n        id=\"popup-name-error\"\n      >\n        {validationMessage}\n      </span>\n      <input\n        type=\"text\"\n        className={`popup__info ${\n          isAboutValid ? \"\" : \"popup__info_type_error\"\n        }`}\n        id=\"popup-title\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        name=\"about\"\n        value={description}\n        onChange={handleDescriptionChange}\n      />\n      <span\n        className={`popup__error ${isAboutValid ? \"\" : \"popup__error_visible\"}`}\n        id=\"popup-title-error\"\n      >\n        {validationMessage}\n      </span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}